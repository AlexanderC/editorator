<html lang="en">
<head>
    <meta charset="utf-8">

    <title>Editorator Demo</title>
    <meta name="description" content="Editorator- inline editor for nerds">
    <meta name="author" content="AlexanderC">

    <link rel="stylesheet" href="css/main.css">

    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
</head>

<body>
    <style>
        .content {
            width: 100% - 100px;
            height: 100%;
            margin: 0;
            padding: 50px;
            border: 1px solid #000;
        }
        .header {
            width: 100% - 40px;
            border: 1px dotted #0b0b0b;
            padding: 20px;
        }

        #initEdit, #initSave, #initUnload {
            display: none;
        }
    </style>

    <fieldset>
        <button id="initEdit">Edit</button>
        <button id="initSave">Save</button>
        <button id="initUnload">Unload Plugin</button>
    </fieldset>

    <div class="content">
        <div class="header edt-editable" data-edt-id="content-header-1"></div>
    </div>

    <script src="js/editorator/core.js"></script>
    <script>
        (function($) {
            $().ready(function() {
                $(window).on('edt-auth-success', function(data) {
                    $("#initEdit").fadeIn("fast");
                    $("#initSave").fadeIn("fast");
                    $("#initUnload").fadeIn("fast");

                    $("#initEdit").bind("click", function() {
                        $.editorator("initEdit");
                        $(this).fadeOut("fast");
                    });

                    $("#initSave").bind("click", function() {
                        $.editorator("persist");
                    });

                    $("#initUnload").bind("click", function() {
                        $.editorator("unload");
                        $("#initEdit").fadeIn("fast");
                    });
                });

                $(window).on('edt-before-item-content-load', function(event, item) {
                    item.html("<h1>Loading content...</h1>");
                });

                $(window).on('edt-success-item-content-load', function(event, item) {
                    item.html('');
                });

                $(window).on('edt-error-item-content-load', function(event, item) {
                    item.html("<h1>Error while loading content!!!</h1>");
                });

                $.editorator({
                    authUrl: 'engine/auth.php',
                    pushUrl: 'engine/push.php',
                    pullUrl: "engine/pull.php"
                });
            });
        })(jQuery);
    </script>
</body>
</html>